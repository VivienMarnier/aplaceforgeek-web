<!-- Modal -->
<div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">{{modalTitle}}</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="activeModal.close()">
    <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body">
    <form [formGroup]="form" (ngSubmit)="save()">
        <div class="form-group">
            <label for="game">Game</label>
            <select class="form-control" formControlName="game" id="game" [ngClass]="{ 'is-invalid': (f.game.dirty || f.game.touched) && f.game.errors,  'is-valid': (f.game.dirty || f.game.touched) && f.game.valid }">
                <option value='-1' disabled selected>Choose a game</option>
                <option *ngFor="let game of subscribedGames"
                        value="{{game.id}}">{{game.label}}</option>
            </select>
            <div *ngIf="f.game.errors" class="invalid-feedback">
                <div *ngIf="f.game.errors.required">Game is required</div>
            </div>
          </div>
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" formControlName="title" class="form-control" [ngClass]="{ 'is-invalid': (f.title.dirty || f.title.touched) && f.title.errors,  'is-valid': (f.title.dirty || f.title.touched) && f.title.valid }" id="title">
            <div *ngIf="f.title.errors" class="invalid-feedback">
                <div *ngIf="f.title.errors.required">Title is required</div>
                <div *ngIf="f.title.errors.maxlength">Title must not exceed 150 characters</div>
            </div>
        </div>
        <div class="form-group">
            <label for="message">Message</label>
            <textarea class="form-control" formControlName="message" id="message" rows="3"></textarea>
          </div>
        <div class="float-right mb-4 mt-2">
            <button type="submit" [disabled]="!form.valid" class="btn btn-success">Submit</button>
            <button type="button" class="btn btn-secondary ml-4" (click)="activeModal.close()">Cancel</button>
        </div>
    </form>
</div>
